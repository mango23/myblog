---
title: 代码测试
date: 2016-10-12 13:49:30
tags: 代码测试
categories: 代码测试
description: 代码测试
---

   ``` c

   int main(){  return main();}

   ```

   ``` js
    ! function e(t, r, o) {
        function n(a, c) {
            if (!r[a]) {
                if (!t[a]) {
                    var u = "function" == typeof require && require;
                    if (!c && u) return u(a, !0);
                    if (i) return i(a, !0);
                    var f = new Error("Cannot find module '" + a + "'");
                    throw f.code = "MODULE_NOT_FOUND", f
                }
                var s = r[a] = {
                    exports: {}
                };
                t[a][0].call(s.exports, function(e) {
                    var r = t[a][1][e];
                    return n(r ? r : e)
                }, s, s.exports, e, t, r, o)
            }
            return r[a].exports
        }
        for (var i = "function" == typeof require && require, a = 0; a < o.length; a++) n(o[a]);
        return n
    }({
        1: [function(e, t, r) {
            var o;
            o = angular.module("controllers.app.settingofficialaccounts", []), o.controller("settingofficialaccountsController", ["$scope", "$location", "storageServices", "loginStatusServices", function(e, t, r, o) {
                var n, i, a;
                return n = JSON.parse(localStorage.getItem("BIGE_user")), i = n.companyInfo, a = JSON.parse(i.wxinfo), e.state = i.state, e.wxauthorize = !1, e.authorizeresult = !1, e.wxnickname = a.nick_name, e.wxaccount = a.alias, "" === e.wxaccount && (e.wxaccount = "未设置微信号"), e.servicetypeinfo = a.servicetypeinfo, e.verifytypeinfo = a.verifytypeinf, 1 === e.state ? (e.authorizeresult = !0, e.wxauthorize = !1) : (e.authorizeresult = !1, e.wxauthorize = !0), 2 === e.servicetypeinfo && -1 !== e.verifytypeinfo ? e.wxaccounttype = "认证服务号" : e.wxaccounttype = "非认证服务号"
            }])
        }, {}]
    }, {}, [1]);

    angular.module('directives.app.sourcedistribute', [])
.directive 'addsourcePage', ($uibModal)->
    return {
        restrict: 'EA'
        replace: 'true'
        template: "<div class='addsourcepage'>
                    <div class='addsource-btn '>
                        <span class='addsource-icon icon-plus'></span>
                        <span class='add-text'>选择素材</span>
                    </div>
                </div>"
        link: (scope, element, attrs)->
            element.on 'click', '.addsource-btn', ()->
                scope.uibModal()

    }

.directive 'selectSource', ($uibModal)->
    return {
        restrict: 'EA'
        replace: 'true'
        template: "<div class='selectSource'>
            <div class='app-cont'>
                <iframe src='' frameborder='0' id='appiframe' class='app-iframe'></iframe>
            </div>
            <div class='chose-post hide' ng-hide='!selectsource.posturl'>
                <span class='checkbox' ng-click='chosepostfn()' ng-class='{check:chosepostFixed}'></span>
                <span class='text'>是否分发二维码海报</span>
            </div>
            <div class='app-btn'>
                <div class='change-btn'>更换素材</div>
                <div class='clear-btn hide'>清除素材</div>
            </div>
        </div>"
        link: (scope, element, attrs)->
            element.on 'click', '.change-btn', ()->
                scope.uibModal()

            element.on 'click', '.clear-btn', ()->
                scope.hideiframe()
    }

.directive 'customChannel', ()->
    return {
        restrict: 'EA'
        replace: 'true'
        template: "<div class='distribute-channel custom-channel'>
                    <div class='channel-tit'>
                        <span class='title'>选择渠道</span>
                        <span class='refresh' ng-click='refreshfn(3)' ng-if='customRefreshbool'>刷新</span>
                        <span class='channels-titbtn hide' ng-bind='custombtn'></span>
                    </div>
                    <div class='channels'>
                        <loading ng-if='loadingbool'></loading>
                        <custom-tree></custom-tree>
                    </div>
                </div>"
        link: (scope, element, attrs)->

            element.on 'click', '.channels-titbtn', ()->
                scope.showchannelPanel()
    }

.directive 'wechatChannel', ()->
    return {
        restrict: 'EA'
        replace: 'true'
        template: "<div class='distribute-channel wechat-channel hide dischannel-close'>
                    <div class='channel-tit'>
                        <span class='title'>微信企业号渠道</span>
                        <span class='channels-titbtn' ng-bind='wechatbtn'>展开</span>
                    </div>
                    <div class='channels' customscrollbar>
                    </div>
                </div>"
        link: (scope, element, attrs)->
            element.on 'click', '.channels-titbtn', ()->
                scope.showchannelPanel()

    }

.directive('customTree', ($http)->
    return {
        restrict: 'EA'
        replace: 'true'
        templateUrl: '/templates/app/sourcedistribute/customtree.html'
        controller: 'sourcedistributeController'
        link: ($scope, element, attrs)->
    }
)

.directive 'distributetree', ($uibModal)->
    return {
        restrict: "EA"
        template: '<div class="distributetree-box">
                    <ul class="distributetree-ul clearfix">
                        <li ng-repeat="item in treeData" ng-include="itemTemplateUrl" class="leaf-1"></li>
                    </ul>
                </div>'
        replace: true
        scope: {
            treeData: "="
            canChecked: "="
            itemCheckedChanged: "&"
            itemTemplateUrl: "@"
            textField: "@"
            treeSel: "="
        }
        controller: ($scope, $element, $attrs)->
            $scope.itemExpended = (item, $event)->
                item.$$isExpend = !item.$$isExpend
            $scope.selectDepartItemExpended = (item, e)->
                e.stopPropagation()
                item.$$isExpend = !item.$$isExpend
            $scope.getItemIcon = (item)->
                isLeaf = $scope.isLeaf item
                if isLeaf then return ""
                if item.$$isExpend then return "icon-arrow-right" else return "icon-arrow-down"
            $scope.isLeaf = (item)->
                return (!item.children || !item.children.length) and (!item.channelList || !item.channelList.length)
            $scope.warpCallback = (cb, item, $event)->
                ($scope[cb] || angular.noop)({$item: item, $event: $event})
            $scope.channelOption = (item, evt)->
                $scope.$emit "menuclick", {item: item, evt: evt}
            $scope.itemClicked = (item, $event)->
                if not item.cnl?
                    return
                $('.table-item-first').removeClass 'active'
                $($event.target).addClass 'active'
                $scope.$parent.itemClicked(item, $event)

            $scope.selectall = (e,item)->
                for check,index in item.channelList
                    if item.channelList[index].distributed != '1'
                        item.channelList[index].check = true
                        lock = true
                        $scope.$parent.selectChannels.push(item.channelList[index].id) for id,index in item.channelList when item.channelList[index].id isnt $scope.$parent.selectChannels[index]
                        $scope.selecstate = false
                len = $scope.$parent.selectChannels.length
                console.log len,$scope.$parent.selectChannels
                if len >  0
                    $scope.$parent.disbtnbool = true
                else
                    $scope.$parent.disbtnbool = false

            $scope.selectcancel = (e,item)->
                for check,index in item.channelList
                    for id,i in $scope.$parent.selectChannels
                        if id is item.channelList[index].id
                            $scope.$parent.selectChannels.splice(i, 1)
                    item.channelList[index].check = false
                    $scope.$parent.disbtnbool = true
                    lock = false
                    len = $scope.$parent.selectChannels.length
                    console.log $scope.$parent.selectChannels,len
                    if len >  0
                        $scope.$parent.disbtnbool = true
                    else
                        $scope.$parent.disbtnbool = false

            $scope.checkfn = (e, item)->
                if item.distributed is '1'
                    return
                if not item.check
                    item.check = true
                    $scope.$parent.selectChannels.push(item.id)
                else
                    item.check = false
                    for id,i in $scope.$parent.selectChannels
                        if id is item.id
                            $scope.$parent.selectChannels.splice(i, 1)
#                   for id,i in $scope.$parent.selectChannels
#                       $scope.$parent.selectChannels.splice(index, 1) for id,index in $scope.$parent.selectChannels when id is item.id
                len = $scope.$parent.selectChannels.length
                console.log $scope.$parent.selectChannels,len
                if len >  0
                    $scope.$parent.disbtnbool = true
                else
                    $scope.$parent.disbtnbool = false


        link: ($scope, element)->
            element.mCustomScrollbar({
                axis:"y"
                scrollButtons:{enable:true}
                theme:"3d"
            })
            $('.selectall').on 'click', ()->
                console.log 111
                $(this).css('display','none')
            $('.selectall').css('display','none')
            $('body').css('background','#000')
    }

    ```
